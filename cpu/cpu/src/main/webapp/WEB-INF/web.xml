<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE web-app
        PUBLIC "-//Sun Microsystems, Inc.//DTD Web Application 2.3//EN"
        "http://java.sun.com/dtd/web-app_2_3.dtd">
<web-app>
    <display-name>cpu Tapestry 5 Application</display-name>
    <context-param>
        <!-- The only significant configuration for Tapestry 5, this informs Tapestry
of where to look for pages, components and mixins. -->
        <param-name>tapestry.app-package</param-name>
        <param-value>orion.cpu.views.tapestry</param-value>
    </context-param>
    <context-param>
    	<param-name>BIRT_VIEWER_DOCUMENT_FOLDER</param-name>
    	<param-value>documents</param-value>
    	<description>Temporary document files directory. Defaults to ${Context Root}/documents</description>
    </context-param>
    <context-param>
    	<param-name>BIRT_VIEWER_PRINT_SERVERSIDE</param-name>
    	<param-value>ON</param-value>
    	<description>Flag whether to allow server-side printing. Possible values are ON and OFF. Defaults to ON</description>
    </context-param>
    <context-param>
    	<param-name>BIRT_VIEWER_CUBE_MEMORY_SIZE</param-name>
    	<param-value></param-value>
    	<description>Memory size in MB for creating a cube.</description>
    </context-param>
    <context-param>
    	<param-name>BIRT_VIEWER_SCRIPTLIB_DIR</param-name>
    	<param-value>scriptlib</param-value>
    	<description>Directory where to store all the birt report script libraries (JARs).. Defaults to ${Context Root}/scriptlib</description>
    </context-param>
    <context-param>
    	<param-name>BIRT_VIEWER_IMAGE_DIR</param-name>
    	<param-value>report/images</param-value>
    	<description>Temporary images/charts directory. Defaults to ${Context Root}/report/images</description>
    </context-param>
    <context-param>
    	<param-name>BIRT_VIEWER_CONFIG_FILE</param-name>
    	<param-value>WEB-INF/viewer.properties</param-value>
    	<description>BIRT viewer extended configuration file</description>
    </context-param>
    <context-param>
    	<param-name>BIRT_VIEWER_MAX_ROWS</param-name>
    	<param-value></param-value>
    	<description>Preview report rows limit. An empty value means no limit.</description>
    </context-param>
    <context-param>
    	<param-name>BIRT_VIEWER_MAX_CUBE_ROWLEVELS</param-name>
    	<param-value></param-value>
    	<description>Max cube fetch rows levels limit for report preview (Only used when previewing a report design file using the preview pattern). Defaults to return all levels</description>
    </context-param>
    <context-param>
    	<param-name>BIRT_VIEWER_LOCALE</param-name>
<!--     	<param-value>en-US</param-value> --> 
    	    	<param-value>ru</param-value>
    	<description>Default locale setting</description>
    </context-param>
    <context-param>
    	<param-name>BIRT_VIEWER_MAX_CUBE_COLUMNLEVELS</param-name>
    	<param-value></param-value>
    	<description>Max cube fetch columns levels limit for report preview (Only used when previewing a report design file using the preview pattern). Defaults to return all levels</description>
    </context-param>
    <context-param>
    	<param-name>BIRT_VIEWER_WORKING_FOLDER</param-name>
    	<param-value>report</param-value>
    	<description>Report resources(design files or document files) directory for preview. Defaults to ${Context Root}</description>
    </context-param>
    <context-param>
    	<param-name>BIRT_VIEWER_LOG_DIR</param-name>
    	<param-value>logs</param-value>
    	<description>Report Engine logs directory. Default to ${Context Root}/logs</description>
    </context-param>
    <context-param>
    	<param-name>BIRT_RESOURCE_PATH</param-name>
    	<param-value></param-value>
    	<description>Resource location directory (library files, images files or others). Defaults to ${Context Root}</description>
    </context-param>
    <context-param>
    	<param-name>HTML_ENABLE_AGENTSTYLE_ENGINE</param-name>
    	<param-value>true</param-value>
    	<description>Flag whether to force browser-optimized HTML output. Defaults to true</description>
    </context-param>
    <context-param>
    	<param-name>BIRT_VIEWER_LOG_LEVEL</param-name>
    	<param-value>OFF</param-value>
    	<description>Report engine log level. (ALL|SEVERE|WARNING|INFO|CONFIG|FINE|FINER|FINEST|OFF)</description>
    </context-param>
 
    <servlet>
    	<servlet-name>EngineServlet</servlet-name>
    	<servlet-class>
    	org.eclipse.birt.report.servlet.BirtEngineServlet</servlet-class>
    </servlet>
    <servlet>
    	<servlet-name>ViewerServlet</servlet-name>
    	<description>Support Ajax to retrieve report content</description>
    	<servlet-class>
    	org.eclipse.birt.report.servlet.ViewerServlet</servlet-class>
    </servlet>
    <filter>
    	<filter-name>ViewerFilter</filter-name>
    	<description>Viewer Filter used to set the request character encoding to UTF-8.</description>
    	<filter-class>org.eclipse.birt.report.filter.ViewerFilter</filter-class>
    </filter>    
    <filter-mapping>
    	<filter-name>ViewerFilter</filter-name>
    	<servlet-name>EngineServlet</servlet-name>
    </filter-mapping>
    
    <filter-mapping>
    	<filter-name>ViewerFilter</filter-name>
    	<servlet-name>ViewerServlet</servlet-name>
    </filter-mapping>

    <servlet-mapping>
    	<servlet-name>ViewerServlet</servlet-name>
    	<url-pattern>/frameset</url-pattern>
    </servlet-mapping>
    <servlet-mapping>
    	<servlet-name>EngineServlet</servlet-name>
    	<url-pattern>/document</url-pattern>
    </servlet-mapping>
    <servlet-mapping>
    	<servlet-name>EngineServlet</servlet-name>
    	<url-pattern>/download</url-pattern>
    </servlet-mapping>
    <servlet-mapping>
    	<servlet-name>EngineServlet</servlet-name>
    	<url-pattern>/parameter</url-pattern>
    </servlet-mapping>
    <servlet-mapping>
    	<servlet-name>EngineServlet</servlet-name>
    	<url-pattern>/extract</url-pattern>
    </servlet-mapping>
    <servlet-mapping>
    	<servlet-name>ViewerServlet</servlet-name>
    	<url-pattern>/run</url-pattern>
    </servlet-mapping>
    <servlet-mapping>
    	<servlet-name>EngineServlet</servlet-name>
    	<url-pattern>/preview</url-pattern>
    </servlet-mapping>
    <servlet-mapping>
    	<servlet-name>EngineServlet</servlet-name>
    	<url-pattern>/output</url-pattern>
    </servlet-mapping>

    <filter>
        <filter-name>app</filter-name>
        <!--filter-class>org.apache.tapestry5.TapestryFilter</filter-class-->
        <filter-class>orion.cpu.views.birt.BirtTapestryFilter</filter-class>
    </filter>
    <filter-mapping>
        <filter-name>app</filter-name>
        <url-pattern>/*</url-pattern>
    </filter-mapping>
</web-app>
      

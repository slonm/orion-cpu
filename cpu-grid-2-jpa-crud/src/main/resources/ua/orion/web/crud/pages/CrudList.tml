<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<t:ori.layout title="prop:title"
              menupath="prop:menuBar"
              xmlns:t="http://tapestry.apache.org/schema/tapestry_5_1_0.xsd"
              xmlns:p="tapestry:parameter"
              xmlns:s="tapestry-library:security">

<s:HasPermission permission="${objectClass.simpleName}:insert">
  <t:pagelink page="crud/CrudCreate" context="crudRowContext"  title="${message:action.add}" id="crud_page_link_add">${message:action.add}</t:pagelink>
</s:HasPermission>

<t:grid.Grid source="dataSource" row="currentRow" add="menu" reorder="menu" model="model">
        <p:menuCell>
           <s:HasPermission permission="${objectClass.simpleName}:update:${currentRow.id}">
              <t:pagelink page="crud/CrudEdit" context="crudRowContext" class="crud-page-link-edit" title="message:crud-edit"/>
           </s:HasPermission>
           <s:HasPermission permission="${objectClass.simpleName}:delete:${currentRow.id}">
              <t:pagelink page="crud/CrudDelete" context="crudRowContext" class="crud-page-link-delete" title="message:action.del"/>
              <!-- <t:EventLink t:event="trydelete" context="crudRowContext" class="crud-page-link-delete" title="message:action.del"/> -->
           </s:HasPermission>
           <s:HasPermission permission="${objectClass.simpleName}:view:${currentRow.id}">
              <t:pagelink page="crud/CrudView" context="crudRowContext" class="crud-page-link-view" title="message:crud-view"/>
           </s:HasPermission>
        </p:menuCell>
        <!-- 
              
        gridSettingStore="settingStore"
                <p:lastNameCell>
                    <b>${currentRow.lastname}</b>
                </p:lastNameCell>

                <p:menuCell>
                    menu #${currentRow.id}
                </p:menuCell>
         -->
        <p:empty>
          <p>There are no rows to display;</p>
        </p:empty>
</t:grid.Grid>

<div style="display:none;" id="edit_dialog_title">${message:crud-edit}</div>
</t:ori.layout>

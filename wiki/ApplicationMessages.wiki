=Каталог сообщений уровня приложения=

Библиотека orion-core

==ApplicationMessagesSource==
Недостаток каталога сообщений Tapestry 5 в том, что есть единственный глобальный файл ресурсов (app.properties) и файлы ресурсов индивидуальные для страниц и компонентов. Такой подход затрудняет локализацию отображаемых подписей модели данных. Подписи являются метаданными и должны храниться в библиотеке модели. Библиотека модели не зависит от библиотеки tapestry-core, но именно в ней есть сервис ComponentMessagesSource, который и является источником каталога сообщений по вышеописанному алгоритму. Для решения этой нужен сервис ApplicationMessagesSource. В него делается вклад с именами файлов ресурсов, а сам сервис возвращает каталог сообщений, который является композицией всех этих ресурсов. Теперь файлов ресурсов может быть сколь угодно много и расположены они могут быть в произвольном месте. После этого с помощью советчика в orion-web этот каталог сообщений объеденяется с тем, который создает ComponentMessagesSource. 

==Ресурсы библиотек==
Для библиотек модели ресурсы ищутся в корне classpath с именем совпадающим с именем библиотеки. Для библиотек компонентов имя ресурса складывается из имени библиотеки и префикса "Web". Ресурсы ищутся также в корне classpath. В ресурс библиотеки компонентов выносятся, например, подписи пунктов главного меню

==Соглашение на именование ключей ресурсов==
  * *entity.EntityName* - подпись сущности с именем EntityName
  * *property.EntityName.PropertyName* - подпись свойства PropertyName сущности EntityName
  * *property-cell.EntityName.PropertyName* - подпись свойства PropertyName сущности EntityName в заголовке таблицы
  * *Menu>Start>Admin* - подпись пункта меню Start>Admin
  * *label.text* - подпись на странице с именем text
  * *message.text* - длинный самостоятельный текст на странице с именем text
  * *action.actionname* - подпись для действия с именем actionname. Т.е. подписи для Submit, ActionLink и EventLink - другими словами для Component Event Request
  * *link.name.foo* - переход на страницу. name - имя страницы, foo префикс, конкретику, т.к. страница может иметь параметры, контекст или предварительно установленные переменные. В общем подпись для контекстного PageLink
  * *page.name* - титул страницы с именем name
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<t:ori.layout title="${label:entity.License} ${tostring:license}"
              menudata="Start>Licensing>License"
              xmlns:t="http://tapestry.apache.org/schema/tapestry_5_1_0.xsd"
              xmlns:p="tapestry:parameter">
    <t:ori.crud t:id="crud" t:objectClass="LicenseRecordClass" t:source="source" t:listPage="licensing/licenses">
        <p:editBlock>
            <t:ori.beaneditformext t:id="editForm" object="crud.object" model="beanModel"
                                   zone="${crud.listZoneId}" submitLabel="message:action.edit" 
                                   buttons="crud.hideWindowButtonBlock">
                <p:license>
                    <label>${label:property.LicenseRecord.license}</label>
                    <span>${tostring:licenseRecord.license}</span>
                </p:license>
                <p:educationalQualificationLevel>
                    <t:label for="levelSelect"/>
                    <t:ori.entityselect t:id="levelSelect" entity="LicenseRecord"
                                        property="educationalQualificationLevel"
                                        zone="specialityZone"/>
                </p:educationalQualificationLevel>

                <p:knowledgeArea>
                    <t:label for="knowledgeAreaSelect"/>
                    <t:ori.entityselect t:id="knowledgeAreaSelect" entity="knowledgeAreaContainer"
                                        property="knowledgeArea" blankoption="ALWAYS"
                                        zone="specialityZone"/>
                </p:knowledgeArea>

                <p:trainingDirection>
                    <t:label for="trainingDirectionSelect"/>
                    <t:zone t:id="trainingDirectionZone" id="trainingDirectionZone">
                        <t:if test="isEditTrainingDirection">
                            <t:ori.entityselect t:id="trainingDirectionSelect" entity="LicenseRecord"
                                                property="trainingDirection"
                                                zone="specialityZone"/>
                            <p:else>
                                <input type="text" disabled="true" value="${tostring:licenseRecord.trainingDirection}"/>
                            </p:else>
                        </t:if>
                    </t:zone>
                </p:trainingDirection>

                <p:speciality>
                    <t:zone t:id="specialityZone" id="specialityZone">
                        <t:label for="specialitySelect"/>
                        <t:if test="isEditSpeciality">
                            <t:ori.entityselect t:id="specialitySelect" entity="LicenseRecord"
                                                property="speciality"
                                                zone="trainingDirectionZone"/>
                            <p:else>
                                <input type="text" disabled="true" value="-"/>
                            </p:else>
                        </t:if>
                    </t:zone>
                </p:speciality>
            </t:ori.beaneditformext>
        </p:editBlock>
    </t:ori.crud>
</t:ori.layout>
